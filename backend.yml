version: "3.7"
services:
  kafkaserver:
    image: "spotify/kafka:latest"
    container_name: kafka
    hostname: kafkaserver
    networks: 
      mynet:
        ipv4_address: 10.5.0.5
    ports:
      - 2181:2181
      - 9092:9092
    environment:
      ADVERTISED_HOST: kafkaserver
      ADVERTISED_PORT: 9092
      
  redis:
    image: "redis"
    container_name: redis
    hostname: redis
    networks: 
      mynet:
        ipv4_address: 10.5.0.9
    ports:
      - 32769:6379
networks:
  mynet:
    external: true
    name: docker-spark_spark-network